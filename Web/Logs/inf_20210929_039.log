2021-09-29T20:24:09.4411598+03:00 [INF] (Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager) User profile is available. Using '"C:\Users\A.Dzenisevich\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-29T20:24:09.5055145+03:00 [INF] (HealthChecks.UI.Core.HostedService.UIInitializationHostedService) Initializing UI Database
2021-09-29T20:24:09.9438582+03:00 [INF] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "5.0.10" initialized '"HealthChecksDb"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=HealthChecksUI "
2021-09-29T20:24:10.3385274+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting HTTP/1.1 DELETE https://localhost:44370/orders/?id=1 application/json 43
2021-09-29T20:24:10.3385194+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting HTTP/2 GET https://localhost:44370/index.html - -
2021-09-29T20:24:10.3474041+03:00 [INF] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "5.0.10" initialized '"HealthChecksDb"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=HealthChecksUI "
2021-09-29T20:24:10.3861718+03:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2021-09-29T20:24:10.3863306+03:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: "Development"
2021-09-29T20:24:10.3863958+03:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: "D:\LabWebApp\Web"
2021-09-29T20:24:10.4512792+03:00 [INF] (Microsoft.AspNetCore.Authorization.DefaultAuthorizationService) Authorization was successful.
2021-09-29T20:24:10.4527679+03:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executing endpoint '"Web.Controllers.OrdersController.DeleteProductsFromOrderAsync (Web)"'
2021-09-29T20:24:10.4741749+03:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Route matched with "{action = \"DeleteProductsFromOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProductsFromOrderAsync(Int32, BLL.ViewModels.ProductOrderViewModel[])" on controller "Web.Controllers.OrdersController" ("Web").
2021-09-29T20:24:10.4757711+03:00 [INF] (Microsoft.AspNetCore.Authorization.DefaultAuthorizationService) Authorization was successful.
2021-09-29T20:24:10.5350148+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished HTTP/2 GET https://localhost:44370/index.html - - - 200 - text/html;charset=utf-8 197.5205ms
2021-09-29T20:24:10.6877187+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request starting HTTP/2 GET https://localhost:44370/swagger/v1/swagger.json - -
2021-09-29T20:24:10.8178529+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished HTTP/2 GET https://localhost:44370/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.8923ms
2021-09-29T20:24:10.9541694+03:00 [INF] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2021-09-29T20:24:11.3126622+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END"
2021-09-29T20:24:11.3472630+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[Id], [p].[Background], [p].[Count], [p].[DateCreated], [p].[Genre], [p].[IsDeleted], [p].[Logo], [p].[Name], [p].[Platform], [p].[Price], [p].[Rating], [p].[TotalRating]
FROM [Products] AS [p]
WHERE [p].[Id] = @__id_0"
2021-09-29T20:24:12.4055967+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_orderId_0='?' (DbType = Int32), @__product_ProductId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ProductId], [p].[OrderId], [p].[ProductAmount]
FROM [ProductOrders] AS [p]
WHERE ([p].[OrderId] = @__8__locals1_orderId_0) AND ([p].[ProductId] = @__product_ProductId_1)"
2021-09-29T20:24:12.4943005+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductOrders]
WHERE [OrderId] = @p0 AND [ProductId] = @p1;
SELECT @@ROWCOUNT;"
2021-09-29T20:24:12.5214312+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@__orderId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [o].[Id], [o].[AddressDeliveryId], [o].[CreationDate], [o].[DeliveryType], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE ([o].[Id] = @__orderId_0) AND ([o].[Status] = 1)"
2021-09-29T20:24:12.5607736+03:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Orders] SET [AddressDeliveryId] = @p0, [CreationDate] = @p1, [DeliveryType] = @p2, [Status] = @p3, [TotalAmount] = @p4, [UserId] = @p5
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;"
2021-09-29T20:24:12.5673980+03:00 [INF] (Microsoft.AspNetCore.Mvc.StatusCodeResult) Executing HttpStatusCodeResult, setting HTTP status code 204
2021-09-29T20:24:12.5713679+03:00 [INF] (Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker) Executed action "Web.Controllers.OrdersController.DeleteProductsFromOrderAsync (Web)" in 2093.6081ms
2021-09-29T20:24:12.5718186+03:00 [INF] (Microsoft.AspNetCore.Routing.EndpointMiddleware) Executed endpoint '"Web.Controllers.OrdersController.DeleteProductsFromOrderAsync (Web)"'
2021-09-29T20:24:12.5739613+03:00 [INF] (Microsoft.AspNetCore.Hosting.Diagnostics) Request finished HTTP/1.1 DELETE https://localhost:44370/orders/?id=1 application/json 43 - 204 - - 2237.6641ms
2021-09-29T20:24:20.4018704+03:00 [INF] (Microsoft.EntityFrameworkCore.Infrastructure) Entity Framework Core "5.0.10" initialized '"HealthChecksDb"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=HealthChecksUI "
2021-09-29T20:26:47.9205841+03:00 [INF] () Strating web host
